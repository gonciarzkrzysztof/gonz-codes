var e;(0,(e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire1d06).register)("h1mIU",function(t,r){Object.defineProperty(t.exports,"stegaEncodeSourceMap$1",{get:function(){return b},set:void 0,enumerable:!0,configurable:!0});var n=e("do9pw"),o=e("cxjpp"),a=e("cv9Rk"),i=e("c6Xmf"),c=e("l0HdX"),u=e("lipNE"),l=/_key\s*==\s*['"](.*)['"]/;function s(e){if(!Array.isArray(e))throw Error("Path is not an array");return e.reduce(function(e,t,r){var n=void 0===t?"undefined":(0,c._)(t);if("number"===n)return"".concat(e,"[").concat(t,"]");if("string"===n)return"".concat(e).concat(0===r?"":".").concat(t);if(("string"==typeof t?l.test(t.trim()):"object"==typeof t&&"_key"in t)&&t._key)return"".concat(e,'[_key=="').concat(t._key,'"]');if(Array.isArray(t)){var o=(0,a._)(t,2),i=o[0],u=o[1];return"".concat(e,"[").concat(i,":").concat(u,"]")}throw Error("Unsupported path segment `".concat(JSON.stringify(t),"`"))},"")}var f={"\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","'":"\\'","\\":"\\\\"},p={"\\f":"\f","\\n":"\n","\\r":"\r","\\t":"	","\\'":"'","\\\\":"\\"};function d(e){for(var t,r=[],n=/\['(.*?)'\]|\[(\d+)\]|\[\?\(@\._key=='(.*?)'\)\]/g;null!==(t=n.exec(e));){if(void 0!==t[1]){var o=t[1].replace(/\\(\\|f|n|r|t|')/g,function(e){return p[e]});r.push(o);continue}if(void 0!==t[2]){r.push(parseInt(t[2],10));continue}if(void 0!==t[3]){var a=t[3].replace(/\\(\\')/g,function(e){return p[e]});r.push({_key:a,_index:-1});continue}}return r}function h(e){return e.map(function(e){if("string"==typeof e||"number"==typeof e)return e;if(""!==e._key)return{_key:e._key};if(-1!==e._index)return e._index;throw Error("invalid segment:".concat(JSON.stringify(e)))})}function g(e){return"object"==typeof e&&null!==e}var y="drafts.",v=function(e){var t=e.sourcePath,r=e.value;if(/^\d{4}-\d{2}-\d{2}/.test(r)&&Date.parse(r)||function(e){try{new URL(e,e.startsWith("/")?"https://acme.com":void 0)}catch(e){return!1}return!0}(r))return!1;var n=t.at(-1);return!("slug"===t.at(-2)&&"current"===n||"string"==typeof n&&n.startsWith("_")||"number"==typeof n&&"marks"===t.at(-2)||"href"===n&&"number"==typeof t.at(-2)&&"markDefs"===t.at(-3)||"style"===n||"listItem"===n||t.some(function(e){return"meta"===e||"metadata"===e||"openGraph"===e||"seo"===e})||"string"==typeof n&&m.has(n))},m=new Set(["color","colour","currency","email","format","gid","hex","href","hsl","hsla","icon","id","index","key","language","layout","link","linkAction","locale","lqip","page","path","ref","rgb","rgba","route","secret","slug","status","tag","template","theme","type","unit","url","username","variant","website"]),b=Object.freeze({__proto__:null,stegaEncodeSourceMap:function(e,t,r){var c=r.filter,p=r.logger;if(!r.enabled){var m="config.enabled must be true, don't call this function otherwise";throw null==(A=null==p?void 0:p.error)||A.call(p,"[@sanity/client/stega]: ".concat(m),{result:e,resultSourceMap:t,config:r}),TypeError(m)}if(!t)return null==(D=null==p?void 0:p.error)||D.call(p,"[@sanity/client/stega]: Missing Content Source Map from response body",{result:e,resultSourceMap:t,config:r}),e;if(!r.studioUrl){var b="config.studioUrl must be defined";throw null==(O=null==p?void 0:p.error)||O.call(p,"[@sanity/client/stega]: ".concat(b),{result:e,resultSourceMap:t,config:r}),TypeError(b)}var _={encoded:[],skipped:[]},k=(j=function(e){var t,a,i=e.sourcePath,l=e.sourceDocument,f=e.resultPath,d=e.value;if(("function"==typeof c?c({sourcePath:i,resultPath:f,filterDefault:v,sourceDocument:l,value:d}):v({sourcePath:i,resultPath:f,filterDefault:v,sourceDocument:l,value:d}))===!1)return p&&_.skipped.push({path:s(h(i)),value:"".concat(d.slice(0,20)).concat(d.length>20?"...":""),length:d.length}),d;p&&_.encoded.push({path:s(h(i)),value:"".concat(d.slice(0,20)).concat(d.length>20?"...":""),length:d.length});var g=("/"!==(a="string"==typeof(t="function"==typeof r.studioUrl?r.studioUrl(l):r.studioUrl)?t:t.baseUrl)&&(a=a.replace(/\/$/,"")),"string"==typeof t)?{baseUrl:a}:(0,o._)((0,n._)({},t),{baseUrl:a}),m=g.baseUrl,b=g.workspace,k=g.tool;if(!m)return d;var w=l._id,U=l._type;return(0,u.b)(d,{origin:"sanity.io",href:function(e){var t=e.baseUrl,r=e.workspace,n=void 0===r?"default":r,o=e.tool,a=void 0===o?"default":o,i=e.id,c=e.type,u=e.path;if(!t)throw Error("baseUrl is required");if(!u)throw Error("path is required");if(!i)throw Error("id is required");if("/"!==t&&t.endsWith("/"))throw Error("baseUrl must not end with a slash");var l="default"===n?void 0:n,f="default"===a?void 0:a,p=i.startsWith(y)?i.slice(y.length):i,d=Array.isArray(u)?s(h(u)):u,g=new URLSearchParams({baseUrl:t,id:p,type:c,path:d});l&&g.set("workspace",l),f&&g.set("tool",f);var v=["/"===t?"":t];l&&v.push(l);var m=["mode=presentation","id=".concat(p),"type=".concat(c),"path=".concat(encodeURIComponent(d))];return f&&m.push("tool=".concat(f)),v.push("intent","edit","".concat(m.join(";"),"?").concat(g)),v.join("/")}({baseUrl:m,workspace:b,tool:k,id:w,type:U,path:i})},!1)},function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return null!==t&&Array.isArray(t)?t.map(function(t,o){if(g(t)){var a=t._key;if("string"==typeof a)return e(t,r,n.concat({_key:a,_index:o}))}return e(t,r,n.concat(o))}):g(t)?Object.fromEntries(Object.entries(t).map(function(t){var o=(0,a._)(t,2),i=o[0];return[i,e(o[1],r,n.concat(i))]})):r(t,n)}(e,function(e,r){if("string"!=typeof e)return e;var n=function(e,t){if(null==t?void 0:t.mappings){var r,n=(r=e.map(function(e){if("string"==typeof e||"number"==typeof e)return e;if(-1!==e._index)return e._index;throw Error("invalid segment:".concat(JSON.stringify(e)))}),"$".concat(r.map(function(e){if("string"==typeof e){var t=e.replace(/[\f\n\r\t'\\]/g,function(e){return f[e]});return"['".concat(t,"']")}if("number"==typeof e)return"[".concat(e,"]");if(""!==e._key){var r=e._key.replace(/['\\]/g,function(e){return f[e]});return"[?(@._key=='".concat(r,"')]")}return"[".concat(e._index,"]")}).join("")));if(void 0!==t.mappings[n])return{mapping:t.mappings[n],matchedPath:n,pathSuffix:""};var o=Object.entries(t.mappings).filter(function(e){var t=(0,a._)(e,1)[0];return n.startsWith(t)}).sort(function(e,t){var r=(0,a._)(e,1)[0];return(0,a._)(t,1)[0].length-r.length});if(0!=o.length){var i=(0,a._)(o[0],2),c=i[0],u=i[1],l=n.substring(c.length);return{mapping:u,matchedPath:c,pathSuffix:l}}}}(r,t);if(!n)return e;var o=n.mapping,i=n.matchedPath;if("value"!==o.type||"documentValue"!==o.source.type)return e;var c=t.documents[o.source.document],u=t.paths[o.source.path],l=d(i);return j({sourcePath:d(u).concat(r.slice(l.length)),sourceDocument:c,resultPath:r,value:e})}));if(p){var w=_.skipped.length,U=_.encoded.length;if((w||U)&&(null==(M=(null==p?void 0:p.groupCollapsed)||p.log)||M("[@sanity/client/stega]: Encoding source map into result"),null==(q=p.log)||q.call(p,"[@sanity/client/stega]: Paths encoded: ".concat(_.encoded.length,", skipped: ").concat(_.skipped.length))),_.encoded.length>0&&(null==(R=null==p?void 0:p.log)||R.call(p,"[@sanity/client/stega]: Table of encoded paths"),null==(T=(null==p?void 0:p.table)||p.log)||T(_.encoded)),_.skipped.length>0){var E=new Set,P=!0,x=!1,S=void 0;try{for(var j,A,D,O,M,q,R,T,W,I,N,C=_.skipped[Symbol.iterator]();!(P=(N=C.next()).done);P=!0){var J=N.value.path;E.add(J.replace(l,"0").replace(/\[\d+\]/g,"[]"))}}catch(e){x=!0,S=e}finally{try{P||null==C.return||C.return()}finally{if(x)throw S}}null==(W=null==p?void 0:p.log)||W.call(p,"[@sanity/client/stega]: List of skipped paths",(0,i._)(E.values()))}(w||U)&&(null==(I=null==p?void 0:p.groupEnd)||I.call(p))}return k}})});
//# sourceMappingURL=stegaEncodeSourceMap-gZIRaYar.bbddeca9.js.map
